<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>ITE SoC SDK: peripheral.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ITE SoC SDK
   &#160;<span id="projectnumber">2.2.8.</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('doorbell__outdoor_2peripheral_8c_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">doorbell_outdoor/peripheral.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="doorbell__outdoor_2peripheral_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;sys/ioctl.h&gt;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;assert.h&gt;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="itp_8h.html">ite/itp.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="doorbell__outdoor_2doorbell_8h.html">doorbell.h</a>&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ite__risc_8h.html">ite/ite_risc.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="group__doorbell__indoor__peripheral.html#ga8004f8f482dbef7f0522b48a579b8b47">   10</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__doorbell__indoor__peripheral.html#ga8004f8f482dbef7f0522b48a579b8b47">PeripheralInit</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;{ </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="keywordtype">int</span> wiegand_bit_count;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="keywordtype">int</span> wiegand_gpio[2];</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="keywordtype">int</span> swuart_gpio;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="keywordtype">int</span> swuart_baudrate;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#if defined(CFG_WIEGAND0_ENABLE)</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;                <a class="code" href="group__itp__device.html#ga7c6f6de5f8df7618abdde7bab7cb779b">itpRegisterDevice</a>(<a class="code" href="group__itp__device.html#ggaf9ab18258973acb1e32847f9d69cf14ca2c8e35b71daefbcc1b5cb187bbed64db">ITP_DEVICE_WIEGAND0</a>, &amp;<a class="code" href="group__itp__device.html#ga75512239a64c8eb95ceaa7e244efd26f">itpDeviceWiegand0</a>);</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#if !defined (CFG_DBG_SWUART_CODEC) &amp;&amp; !defined (CFG_SWUART_CODEC_ENABLE)           </span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;                ioctl(<a class="code" href="group__itp__device.html#ggaf9ab18258973acb1e32847f9d69cf14ca2c8e35b71daefbcc1b5cb187bbed64db">ITP_DEVICE_WIEGAND0</a>, <a class="code" href="group__itp__device.html#gad6e33b5b8de394f1bbe1f1eb5a634128">ITP_IOCTL_INIT</a>, NULL);</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#endif    </span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;                wiegand_bit_count = WIEGAND0_BIT_COUNT;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;                ioctl(<a class="code" href="group__itp__device.html#ggaf9ab18258973acb1e32847f9d69cf14ca2c8e35b71daefbcc1b5cb187bbed64db">ITP_DEVICE_WIEGAND0</a>, <a class="code" href="group__itp__device.html#gab9ad67961da0a2debdd3297dc04f984c">ITP_IOCTL_SET_BIT_COUNT</a>, &amp;wiegand_bit_count);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                wiegand_gpio[0] = CFG_WIEGAND0_GPIO0;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;                wiegand_gpio[1] = CFG_WIEGAND0_GPIO1;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;                ioctl(<a class="code" href="group__itp__device.html#ggaf9ab18258973acb1e32847f9d69cf14ca2c8e35b71daefbcc1b5cb187bbed64db">ITP_DEVICE_WIEGAND0</a>, <a class="code" href="group__itp__device.html#ga499da9c115f56875b8bec884bf168a24">ITP_IOCTL_SET_GPIO_PIN</a>, wiegand_gpio); <span class="comment">// must set before enable</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                ioctl(<a class="code" href="group__itp__device.html#ggaf9ab18258973acb1e32847f9d69cf14ca2c8e35b71daefbcc1b5cb187bbed64db">ITP_DEVICE_WIEGAND0</a>, <a class="code" href="group__itp__device.html#gae6dd908757fe76d1e9589fbd434801d6">ITP_IOCTL_ENABLE</a>, NULL);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#elif defined(CFG_WIEGAND1_ENABLE)</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                <a class="code" href="group__itp__device.html#ga7c6f6de5f8df7618abdde7bab7cb779b">itpRegisterDevice</a>(<a class="code" href="group__itp__device.html#ggaf9ab18258973acb1e32847f9d69cf14caf537069de2bccbf199feb5c9825b2469">ITP_DEVICE_WIEGAND1</a>, &amp;<a class="code" href="group__itp__device.html#ga35fadd3292dadf399c13031d7d3a0dac">itpDeviceWiegand1</a>);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#if !defined (CFG_DBG_SWUART_CODEC) &amp;&amp; !defined (CFG_SWUART_CODEC_ENABLE)</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                ioctl(<a class="code" href="group__itp__device.html#ggaf9ab18258973acb1e32847f9d69cf14caf537069de2bccbf199feb5c9825b2469">ITP_DEVICE_WIEGAND1</a>, <a class="code" href="group__itp__device.html#gad6e33b5b8de394f1bbe1f1eb5a634128">ITP_IOCTL_INIT</a>, NULL);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#endif    </span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                wiegand_bit_count = WIEGAND1_BIT_COUNT;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                ioctl(<a class="code" href="group__itp__device.html#ggaf9ab18258973acb1e32847f9d69cf14caf537069de2bccbf199feb5c9825b2469">ITP_DEVICE_WIEGAND1</a>, <a class="code" href="group__itp__device.html#gab9ad67961da0a2debdd3297dc04f984c">ITP_IOCTL_SET_BIT_COUNT</a>, &amp;wiegand_bit_count);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                wiegand_gpio[0] = CFG_WIEGAND1_GPIO0;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                wiegand_gpio[1] = CFG_WIEGAND1_GPIO1;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                ioctl(<a class="code" href="group__itp__device.html#ggaf9ab18258973acb1e32847f9d69cf14caf537069de2bccbf199feb5c9825b2469">ITP_DEVICE_WIEGAND1</a>, <a class="code" href="group__itp__device.html#ga499da9c115f56875b8bec884bf168a24">ITP_IOCTL_SET_GPIO_PIN</a>, wiegand_gpio); <span class="comment">// must set before enable</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                ioctl(<a class="code" href="group__itp__device.html#ggaf9ab18258973acb1e32847f9d69cf14caf537069de2bccbf199feb5c9825b2469">ITP_DEVICE_WIEGAND1</a>, <a class="code" href="group__itp__device.html#gae6dd908757fe76d1e9589fbd434801d6">ITP_IOCTL_ENABLE</a>, NULL);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#endif // !_WIN32</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#ifdef CFG_GPIO_EXPANDER_ENABLE</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordtype">char</span> pin =4;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="group__itp__gpio__expander.html#gab92a8812594ccd6092e3f5e59b0f8a1b">itpIOExpanderSetOut</a>(<a class="code" href="group__itp__gpio__expander.html#gga69d9618edadfef1b4ea1a72d95a26508acfcdd793c00f39aaa2c852402e29f8aa">IOEXPANDER_0</a>, pin); <span class="comment">//default set  pins 4= output.</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="group__itp__gpio__expander.html#ga7ec4ffd961c8f49e2fb785c306fbb591">itpIOExpanderClear</a>(<a class="code" href="group__itp__gpio__expander.html#gga69d9618edadfef1b4ea1a72d95a26508acfcdd793c00f39aaa2c852402e29f8aa">IOEXPANDER_0</a>, pin);    </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="group__ith__gpio.html#ga2acb7f073bf7eb24b996363e5171f8c4">ithGpioSetMode</a>(<a class="code" href="group__ith__gpio.html#ggac52c1e4b8a589dbba2237e99dd6d12faab0977dff6dfc1b762fec7b0222c80e07">ITH_GPIO_PIN48</a>, <a class="code" href="group__ith__gpio.html#gga0a8352cd712ab8047b749622643fbdbbaea69131147140f62c4562c93850b1afe">ITH_GPIO_MODE0</a>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="group__ith__gpio.html#gad5de2a4d154f12f05125c0f6324e2e01">ithGpioSetOut</a>(<a class="code" href="group__ith__gpio.html#ggac52c1e4b8a589dbba2237e99dd6d12faab0977dff6dfc1b762fec7b0222c80e07">ITH_GPIO_PIN48</a>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="group__ith__gpio.html#ga41ce4d14883139c2c300f228ea1630a3">ithGpioClear</a>(<a class="code" href="group__ith__gpio.html#ggac52c1e4b8a589dbba2237e99dd6d12faab0977dff6dfc1b762fec7b0222c80e07">ITH_GPIO_PIN48</a>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="group__doorbell__indoor__peripheral.html#ga23be3631d287c9052b1ac7d937d53c8a">   55</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="group__doorbell__indoor__peripheral.html#ga23be3631d287c9052b1ac7d937d53c8a">PeripheralDoorIsOpened</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">// TODO: IMPLEMENT</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">//ithPrintf(&quot;PeripheralDoorIsOpened\n&quot;);</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="group__doorbell__indoor__peripheral.html#ga9b2d15fe3177bedafe6c14f078092e8a">   62</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__doorbell__indoor__peripheral.html#ga9b2d15fe3177bedafe6c14f078092e8a">PeripheralOpenDoor</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">bool</span> isCallConnected = <a class="code" href="group__doorbell__indoor__scene.html#ga662c271ca5073c5357ce5c32dd0195b0">SceneIsCallConnected</a>();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#ifdef CFG_GPIO_EXPANDER_ENABLE</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordtype">char</span> pin =4;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> R_data;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="group__itp__gpio__expander.html#ga319364220596d25050bd5e51a16109fe">itpIOExpanderSet</a>(<a class="code" href="group__itp__gpio__expander.html#gga69d9618edadfef1b4ea1a72d95a26508acfcdd793c00f39aaa2c852402e29f8aa">IOEXPANDER_0</a>,pin);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    usleep(1000*1000*1);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="group__itp__gpio__expander.html#ga7ec4ffd961c8f49e2fb785c306fbb591">itpIOExpanderClear</a>(<a class="code" href="group__itp__gpio__expander.html#gga69d9618edadfef1b4ea1a72d95a26508acfcdd793c00f39aaa2c852402e29f8aa">IOEXPANDER_0</a>,pin);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="group__ith__gpio.html#ga6d6843e8d43d1b514ee25615bde2415c">ithGpioSet</a>(<a class="code" href="group__ith__gpio.html#ggac52c1e4b8a589dbba2237e99dd6d12faab0977dff6dfc1b762fec7b0222c80e07">ITH_GPIO_PIN48</a>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    usleep(1000*1000*1);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="group__ith__gpio.html#ga41ce4d14883139c2c300f228ea1630a3">ithGpioClear</a>(<a class="code" href="group__ith__gpio.html#ggac52c1e4b8a589dbba2237e99dd6d12faab0977dff6dfc1b762fec7b0222c80e07">ITH_GPIO_PIN48</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    puts(<span class="stringliteral">&quot;open door&quot;</span>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="group__doorbell__indoor__peripheral.html#ga91032ae9dad900cbc6323154f4ec75cc">   80</a></span>&#160;<span class="keywordtype">char</span>* <a class="code" href="group__doorbell__indoor__peripheral.html#ga91032ae9dad900cbc6323154f4ec75cc">PeripheralReadCard</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordtype">char</span>* card_id = NULL;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#if defined(CFG_WIEGAND0_ENABLE)</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    read(<a class="code" href="group__itp__device.html#ggaf9ab18258973acb1e32847f9d69cf14ca2c8e35b71daefbcc1b5cb187bbed64db">ITP_DEVICE_WIEGAND0</a>, &amp;card_id, 0);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#elif defined(CFG_WIEGAND1_ENABLE)</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    read(<a class="code" href="group__itp__device.html#ggaf9ab18258973acb1e32847f9d69cf14caf537069de2bccbf199feb5c9825b2469">ITP_DEVICE_WIEGAND1</a>, &amp;card_id, 0);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">return</span> card_id;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="group__doorbell__outdoor__peripheral.html#gac8093db68493bc290cee3e30e954b4e6">   92</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__doorbell__outdoor__peripheral.html#gac8093db68493bc290cee3e30e954b4e6">PeripheralCallElevator</a>(<span class="keywordtype">char</span>* floor, <span class="keywordtype">bool</span> up)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// TODO: IMPLEMENT</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="ttc" id="itp_8h_html"><div class="ttname"><a href="itp_8h.html">itp.h</a></div><div class="ttdoc">ITE Platform Library. </div></div>
<div class="ttc" id="group__itp__device_html_gab9ad67961da0a2debdd3297dc04f984c"><div class="ttname"><a href="group__itp__device.html#gab9ad67961da0a2debdd3297dc04f984c">ITP_IOCTL_SET_BIT_COUNT</a></div><div class="ttdeci">#define ITP_IOCTL_SET_BIT_COUNT</div><div class="ttdoc">Wiegand set bit count. </div><div class="ttdef"><b>Definition:</b> <a href="itp_8h_source.html#l00911">itp.h:911</a></div></div>
<div class="ttc" id="group__ith__gpio_html_ga6d6843e8d43d1b514ee25615bde2415c"><div class="ttname"><a href="group__ith__gpio.html#ga6d6843e8d43d1b514ee25615bde2415c">ithGpioSet</a></div><div class="ttdeci">void ithGpioSet(unsigned int pin)</div><div class="ttdoc">Sets GPIO pin to 1. </div></div>
<div class="ttc" id="group__itp__device_html_ga7c6f6de5f8df7618abdde7bab7cb779b"><div class="ttname"><a href="group__itp__device.html#ga7c6f6de5f8df7618abdde7bab7cb779b">itpRegisterDevice</a></div><div class="ttdeci">void itpRegisterDevice(ITPDeviceType type, const ITPDevice *device)</div><div class="ttdoc">Registers device to system. </div></div>
<div class="ttc" id="group__doorbell__indoor__peripheral_html_ga23be3631d287c9052b1ac7d937d53c8a"><div class="ttname"><a href="group__doorbell__indoor__peripheral.html#ga23be3631d287c9052b1ac7d937d53c8a">PeripheralDoorIsOpened</a></div><div class="ttdeci">bool PeripheralDoorIsOpened(void)</div><div class="ttdoc">Determines whether the door is opened or not. </div><div class="ttdef"><b>Definition:</b> <a href="doorbell__outdoor_2peripheral_8c_source.html#l00055">doorbell_outdoor/peripheral.c:55</a></div></div>
<div class="ttc" id="group__itp__device_html_ggaf9ab18258973acb1e32847f9d69cf14caf537069de2bccbf199feb5c9825b2469"><div class="ttname"><a href="group__itp__device.html#ggaf9ab18258973acb1e32847f9d69cf14caf537069de2bccbf199feb5c9825b2469">ITP_DEVICE_WIEGAND1</a></div><div class="ttdoc">Wiegand1. </div><div class="ttdef"><b>Definition:</b> <a href="itp_8h_source.html#l00507">itp.h:507</a></div></div>
<div class="ttc" id="group__doorbell__outdoor__peripheral_html_gac8093db68493bc290cee3e30e954b4e6"><div class="ttname"><a href="group__doorbell__outdoor__peripheral.html#gac8093db68493bc290cee3e30e954b4e6">PeripheralCallElevator</a></div><div class="ttdeci">void PeripheralCallElevator(char *floor, bool up)</div><div class="ttdoc">Invokes the elevator. </div><div class="ttdef"><b>Definition:</b> <a href="doorbell__outdoor_2peripheral_8c_source.html#l00092">doorbell_outdoor/peripheral.c:92</a></div></div>
<div class="ttc" id="group__doorbell__indoor__peripheral_html_ga8004f8f482dbef7f0522b48a579b8b47"><div class="ttname"><a href="group__doorbell__indoor__peripheral.html#ga8004f8f482dbef7f0522b48a579b8b47">PeripheralInit</a></div><div class="ttdeci">void PeripheralInit(void)</div><div class="ttdoc">Initializes peripheral module. </div><div class="ttdef"><b>Definition:</b> <a href="doorbell__outdoor_2peripheral_8c_source.html#l00010">doorbell_outdoor/peripheral.c:10</a></div></div>
<div class="ttc" id="group__ith__gpio_html_ga41ce4d14883139c2c300f228ea1630a3"><div class="ttname"><a href="group__ith__gpio.html#ga41ce4d14883139c2c300f228ea1630a3">ithGpioClear</a></div><div class="ttdeci">void ithGpioClear(unsigned int pin)</div><div class="ttdoc">Sets GPIO pin to 0. </div></div>
<div class="ttc" id="group__itp__gpio__expander_html_gab92a8812594ccd6092e3f5e59b0f8a1b"><div class="ttname"><a href="group__itp__gpio__expander.html#gab92a8812594ccd6092e3f5e59b0f8a1b">itpIOExpanderSetOut</a></div><div class="ttdeci">void itpIOExpanderSetOut(ITP_IOExpander IOEXP_Port, unsigned int pin)</div><div class="ttdoc">Sets GPIO Expander pin to output mode. </div></div>
<div class="ttc" id="group__ith__gpio_html_ga2acb7f073bf7eb24b996363e5171f8c4"><div class="ttname"><a href="group__ith__gpio.html#ga2acb7f073bf7eb24b996363e5171f8c4">ithGpioSetMode</a></div><div class="ttdeci">void ithGpioSetMode(unsigned int pin, ITHGpioMode mode)</div><div class="ttdoc">Sets the mode of GPIO pin. </div></div>
<div class="ttc" id="group__itp__device_html_ggaf9ab18258973acb1e32847f9d69cf14ca2c8e35b71daefbcc1b5cb187bbed64db"><div class="ttname"><a href="group__itp__device.html#ggaf9ab18258973acb1e32847f9d69cf14ca2c8e35b71daefbcc1b5cb187bbed64db">ITP_DEVICE_WIEGAND0</a></div><div class="ttdoc">Wiegand0. </div><div class="ttdef"><b>Definition:</b> <a href="itp_8h_source.html#l00506">itp.h:506</a></div></div>
<div class="ttc" id="group__ith__gpio_html_gad5de2a4d154f12f05125c0f6324e2e01"><div class="ttname"><a href="group__ith__gpio.html#gad5de2a4d154f12f05125c0f6324e2e01">ithGpioSetOut</a></div><div class="ttdeci">void ithGpioSetOut(unsigned int pin)</div><div class="ttdoc">Sets GPIO pin to output mode. </div></div>
<div class="ttc" id="group__ith__gpio_html_ggac52c1e4b8a589dbba2237e99dd6d12faab0977dff6dfc1b762fec7b0222c80e07"><div class="ttname"><a href="group__ith__gpio.html#ggac52c1e4b8a589dbba2237e99dd6d12faab0977dff6dfc1b762fec7b0222c80e07">ITH_GPIO_PIN48</a></div><div class="ttdef"><b>Definition:</b> <a href="ith__gpio_8h_source.html#l00096">ith_gpio.h:96</a></div></div>
<div class="ttc" id="group__itp__device_html_gae6dd908757fe76d1e9589fbd434801d6"><div class="ttname"><a href="group__itp__device.html#gae6dd908757fe76d1e9589fbd434801d6">ITP_IOCTL_ENABLE</a></div><div class="ttdeci">#define ITP_IOCTL_ENABLE</div><div class="ttdoc">Enable. </div><div class="ttdef"><b>Definition:</b> <a href="itp_8h_source.html#l00840">itp.h:840</a></div></div>
<div class="ttc" id="group__itp__gpio__expander_html_ga7ec4ffd961c8f49e2fb785c306fbb591"><div class="ttname"><a href="group__itp__gpio__expander.html#ga7ec4ffd961c8f49e2fb785c306fbb591">itpIOExpanderClear</a></div><div class="ttdeci">void itpIOExpanderClear(ITP_IOExpander IOEXP_Port, unsigned int pin)</div><div class="ttdoc">Sets GPIO Expander pin to 0. </div></div>
<div class="ttc" id="group__itp__device_html_ga499da9c115f56875b8bec884bf168a24"><div class="ttname"><a href="group__itp__device.html#ga499da9c115f56875b8bec884bf168a24">ITP_IOCTL_SET_GPIO_PIN</a></div><div class="ttdeci">#define ITP_IOCTL_SET_GPIO_PIN</div><div class="ttdoc">Wiegand set gpio pin. </div><div class="ttdef"><b>Definition:</b> <a href="itp_8h_source.html#l00912">itp.h:912</a></div></div>
<div class="ttc" id="group__ith__gpio_html_gga0a8352cd712ab8047b749622643fbdbbaea69131147140f62c4562c93850b1afe"><div class="ttname"><a href="group__ith__gpio.html#gga0a8352cd712ab8047b749622643fbdbbaea69131147140f62c4562c93850b1afe">ITH_GPIO_MODE0</a></div><div class="ttdoc">mode 0 </div><div class="ttdef"><b>Definition:</b> <a href="ith__gpio_8h_source.html#l00019">ith_gpio.h:19</a></div></div>
<div class="ttc" id="doorbell__outdoor_2doorbell_8h_html"><div class="ttname"><a href="doorbell__outdoor_2doorbell_8h.html">doorbell.h</a></div><div class="ttdoc">ITE DoorBell Outdoor Modules. </div></div>
<div class="ttc" id="group__doorbell__indoor__peripheral_html_ga9b2d15fe3177bedafe6c14f078092e8a"><div class="ttname"><a href="group__doorbell__indoor__peripheral.html#ga9b2d15fe3177bedafe6c14f078092e8a">PeripheralOpenDoor</a></div><div class="ttdeci">void PeripheralOpenDoor(void)</div><div class="ttdoc">Opens door. </div><div class="ttdef"><b>Definition:</b> <a href="doorbell__outdoor_2peripheral_8c_source.html#l00062">doorbell_outdoor/peripheral.c:62</a></div></div>
<div class="ttc" id="group__itp__device_html_ga35fadd3292dadf399c13031d7d3a0dac"><div class="ttname"><a href="group__itp__device.html#ga35fadd3292dadf399c13031d7d3a0dac">itpDeviceWiegand1</a></div><div class="ttdeci">const ITPDevice itpDeviceWiegand1</div><div class="ttdoc">Wiegand #1 device. </div></div>
<div class="ttc" id="group__itp__gpio__expander_html_ga319364220596d25050bd5e51a16109fe"><div class="ttname"><a href="group__itp__gpio__expander.html#ga319364220596d25050bd5e51a16109fe">itpIOExpanderSet</a></div><div class="ttdeci">void itpIOExpanderSet(ITP_IOExpander IOEXP_Port, unsigned int pin)</div><div class="ttdoc">Sets GPIO Expander pin to 1. </div></div>
<div class="ttc" id="group__itp__device_html_ga75512239a64c8eb95ceaa7e244efd26f"><div class="ttname"><a href="group__itp__device.html#ga75512239a64c8eb95ceaa7e244efd26f">itpDeviceWiegand0</a></div><div class="ttdeci">const ITPDevice itpDeviceWiegand0</div><div class="ttdoc">Wiegand #0 device. </div></div>
<div class="ttc" id="group__doorbell__indoor__scene_html_ga662c271ca5073c5357ce5c32dd0195b0"><div class="ttname"><a href="group__doorbell__indoor__scene.html#ga662c271ca5073c5357ce5c32dd0195b0">SceneIsCallConnected</a></div><div class="ttdeci">bool SceneIsCallConnected(void)</div><div class="ttdoc">Is the call connected or not. </div><div class="ttdef"><b>Definition:</b> <a href="doorbell__indoor_2scene_8c_source.html#l01021">doorbell_indoor/scene.c:1021</a></div></div>
<div class="ttc" id="group__doorbell__indoor__peripheral_html_ga91032ae9dad900cbc6323154f4ec75cc"><div class="ttname"><a href="group__doorbell__indoor__peripheral.html#ga91032ae9dad900cbc6323154f4ec75cc">PeripheralReadCard</a></div><div class="ttdeci">char * PeripheralReadCard(void)</div><div class="ttdoc">Reads the card number. </div><div class="ttdef"><b>Definition:</b> <a href="doorbell__outdoor_2peripheral_8c_source.html#l00080">doorbell_outdoor/peripheral.c:80</a></div></div>
<div class="ttc" id="group__itp__gpio__expander_html_gga69d9618edadfef1b4ea1a72d95a26508acfcdd793c00f39aaa2c852402e29f8aa"><div class="ttname"><a href="group__itp__gpio__expander.html#gga69d9618edadfef1b4ea1a72d95a26508acfcdd793c00f39aaa2c852402e29f8aa">IOEXPANDER_0</a></div><div class="ttdoc">IOEXPANDER_0. </div><div class="ttdef"><b>Definition:</b> <a href="itp__io__expander_8h_source.html#l00021">itp_io_expander.h:21</a></div></div>
<div class="ttc" id="ite__risc_8h_html"><div class="ttname"><a href="ite__risc_8h.html">ite_risc.h</a></div><div class="ttdoc">ITE RISC header File. </div></div>
<div class="ttc" id="group__itp__device_html_gad6e33b5b8de394f1bbe1f1eb5a634128"><div class="ttname"><a href="group__itp__device.html#gad6e33b5b8de394f1bbe1f1eb5a634128">ITP_IOCTL_INIT</a></div><div class="ttdeci">#define ITP_IOCTL_INIT</div><div class="ttdoc">Initialize. </div><div class="ttdef"><b>Definition:</b> <a href="itp_8h_source.html#l00838">itp.h:838</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_167790342fb55959539d550b874be046.html">project</a></li><li class="navelem"><a class="el" href="dir_83db7fde34a04147502a3c17490c1d4c.html">doorbell_outdoor</a></li><li class="navelem"><a class="el" href="doorbell__outdoor_2peripheral_8c.html">peripheral.c</a></li>
    <li class="footer">Generated on Mon Nov 6 2017 20:07:28 for ITE SoC SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
